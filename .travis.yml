language: node_js
node_js:
  - "stable"
cache: npm
services:
  - postgresql
before_script:
  - psql -c 'create database travel_application_test;' -U postgres
script:
  - npm i -g sequelize-cli
  - npm ci
  - npm test
after_success:
  - npm run coverage
notifications:
  email: false
env:
  global:
    - secure: "c4ZfmVCbTzs1EAtbSwuLsMt+LXLg7uUkxlsCJOkos3b58mCuOwgNcNwyq4VVfU0Ucs0hlEMMFta71syvgScrWdL6+ZqK4fD/TdoZYZYewPK8xDuWyJsZEMcju4Epj/KnW44QMJYKVpWJHQhhRlPaimDi5+8Zqwz2X1oIdQWZwilMPCihPibpcfFFiSEPaZlfZ+do9stCqXvKm3hPEt+t317rpJd7S2SV8WX+IH5o2K21NjDXxka5nEInP0p9ByjeYsp6oavKOh+oEHoqv1OlPA8Y2tzuvRE8kS8BpwvYNd6zJmCnIadPvgTqhd/7BDe/O2swKuhnk91pSZxBqC2rL6t56pQN+JwoB8RKlbiy1oV9Amb9/sZbQ7ivIWfF3t+rGbia0R4zTrjeJGtlhKVdhyuxBA6VGX6JMRj8d8jiCFubaGFzt0zKuETk5xTdZpZMzxUXrBxz+1627mS1pkp+2FupRW2qWs427fzh6ZYen1A/8yFj9kPX0107YTXpf++hE2s5mvQOISVSmMLrls6KHr1j6t++iQn4lmsuU/5nE9+DTdU/EqS9qboR047H+ALxY2UECV77qjmDSEJYoobiaf0e4s6pItAZZPwi+kybpqQQOgooC0oXoopiXbRoTJvIykTTOV59XJ/UG9B1vfKLq9PhjKuyfUvZeMCqW1/3oGI="
    - secure: "fqRytb7GURV4zTCrqfqsvY9iRW3hDDSXb1qh44Am/mlVKVE4F2FRwCQJ/queJfe9rPg/Vd3cgQ5+/5DKfh2IXUp5o7qWQSxpXPXmbSutkDildqAv4sWMymoZBdzMIHEgcDj8hWECYLPiARYEsthg+TqAK/VlxmdIlDISy6IlfovazObno+MLH61RIDYKROhm9+LvYYDML0+h+cHFMibhcwPuGMDchN72ioEKVGZ7Yp7//awonyTUUBfKdkXTSLSP47Z2U2T/yFumIyorA/ex2xvrNYSqUFxtC0P9NIOeFspjalxcwS2D/9vxldApcPR3zmFxB2LjktiEVu5OIKNMh1R+n5cFShoTlrv84i0GE6AtybXjoOugk3Nppe1Uep35onl+8rtKfe1q75uoEuqngO4nSyeddBY+y9DIUXZR8N2YMWCbGxv7lO2TwQSvDxlpyEdas0zyyWdJE0e4XZhlXSeddFZxNiEwrQLQwjTmQB0cKFNQnBq1pIRa7xIBsf5yIDN3Op5g8c/Wn0O6HCljhXyKKr6OPJu+tFi+eKaKjG9916Itq6zALG9qaa1yIlKxnvUCW7x9NGV2fpcXlBNNWbjamC/mhgim8LJrXd8BlkIkjBUPdCJrJfEwfoyJyx2Nx0ezkytob2Thp5EEo7UV91MEvo7K6z9c43cLNslpRq4="
    - secure: "C7G0uvGjIqS20VQ/8BSRr6Idu5wmqptnJcb5O/EzALQ4MdTM0QQ7/PQ0PWD4FK5FkLK5Ud1ZuejeTY617Vhgrvc5xLLK0m5K/Hs55Swm26sX5BpJSp287emq+7a6ypiTzGjaN8ND1EM4d4koQ5Q+nMmf9Z4JpJ0mQLMV1VZzglKTLW5Xth546lYNhjoi7bVyYEDMaHa9h0iLR7wc/5iQSMJ+C/Aoo6wEGNaZ5gpEtwKXNw3enl9VFkmYyI9eCSnDcp4VLkqv9BnlvrvcfEiXZpk6/ZMzZVPkSW7WfSYWHPc/sth/BRgz7Wa9TSt6XtgLyQj3T3P2dFS1Dhnh1UBwKxBhXkpgckpf7MqgqoCgSgruagLrV/DL4YAYLF9rQhw0JXN14CxCw40l6SWbuPSjTOmF9YMHJCcunazBGTu2Ny5GcDQSW6dTqkwA2a5czyaWt/cUJyRb4RHj/rOSKE/6k+A0G9bFWipVZIDr+vJwu6Sq93uma1sK9MgtjNcYBzvaFO+3AvMWgiGdM8a8DslbZEYMtRarMuYDpEz9CfrSg7KMrCtBtiCoCkC93Uhg7PhQa08Je1m8wu/dJA5k5zy85k9e9CFufZWyAKuHv2z6hdenfaW1qnEQbZmPkA7+aDF1/6GCYUsfzbzsMqU8gf1+EbDTAcCNagtzZczEOapUEgg="
    - secure: "XQQT9g1t4dM/0CHQdqOPlKPXxwz5OaGYuSlskh0Elw+sfP104HvzNNcUYT+9ILauqP5wFOM8nicpxcXhh9C6/JT7Sb8WqQNaI0Bj6I14VRxtrANEKfsVYfs+kdDgQCKJOyJ9EAVdf2FNiOaUBZ5G52Wdh1PYukBkE5hkM4I/73gHPbSQZCangvf1twwhsOv6HWNp+JadhxV0EXzhrdcUAwhpDDZC7DNBegyvr+b/JFpory102cDVorK7pRJz0T98Qkd5OgU8a4zY2ic0IzQDOd3PNoe12If6tyR7WHMSvnm9DdQrO8uNS0xrBoLsiXjWUiuUb1CKH63YkNtios8VEBR3F0/p0+fz9E4QxJ4EIehbzdYbvPHqDYb1H+1CvW1bX9/T5PBxYezsKvYWkyG10HpFAGJCdlUqM1JmILxatzUMRFq7U5B6V/4bX1mo7NfnFXQwPYJqI3pZltqaPfvaZT77Th7FmdsiN5Z+z/5t+QLL4pGeHPsY5SPitW8/kflE6HsLcssK8LpP4MDm8X8DKab1dSE1Ol5TeEUnU2wZP8OU7TNXwkgK8hz5wmP5KgiYnOh3DvbYcx90rDt4Vo84z8uccrYVD5dwjSgV4cALI4VNv/qjJ8/9k9vYvT8vTcAvoBYWKvQAG7sQtJWSyr/M/Ry+qgW9Pp7SHf4vdXiBZ90="
    - secure: "CYk/1S4iLvFq8UqlzeHEhMyVapQM9VLF8YR6iw9S09GYIeGWecT9aNfrvqVCx4PhjdUNksGSGzp76nE3zCdcolfdKuf4dWcI/xR6ZhWUJn7WwfOKeFTtJKBEcNWOaXlHeoo1Mj5/WcrP+HFBHyKKjq3cQm/IJbxEfCe0slYYtD8bJ5/R+2iVNuG/sZ5Mhb20sX7nteiXDZvtlQa96fxVdz94JccpsHAKaWD1AOZXvZGcyZIifHuQ1Cy3dS3u6gaFIX4qCAYgZf2y7aHEvMxM2MmxwODHoaqD2Ug1l5Mi5X9hvft1VhhqTpzcKvvKQKgewhvdwgScObepJ6CQRxBgUBWqpnQAb6GykvBgLCjdQkSGuDHLonbRRos75+KayS9ZtKx6PmqZwJHpLAPUcCCmDXdwPl900HpWeUhcPG/dwmNXrMVbDb+Rk86uLW+UHxJ/f6gKljS1SegGDRXWdoXJhuop2qDB0vjudQwvdv8BxK/iTDKnd853zgrF7RhL/pxqTX0JPXMZ/RON7g05Vsp4QpZKp0tAm5VTkvHSO5zIRhkPizC1y0cSlPLfkhS7vRAe5oH+wveSsiSZrdtHldQzba9sLxvmknesj9F7Ai1AkcKIrKZ+ZWenxKXFaqc1ffzHVXirIeBAG19d3/QwJSouSpWrz3707RS+56aBMZXHn0c="
    - secure: "TdIAh/rqxd49+q9GuT2Ct26aeiKidRLZXartAXYVyplVVXBXIemzFLP3Qky4nZ3OiEeMwV9IhTQ6LNlB7/AN/PEEzQcKkSHDiR+j/Bvj0rEOvt7kzHZBTjmwG0JJA1fu1tbH/+lWB6WPvf0b1pPZ5p6aNd1WM36KRYxxWnT3v2Jt/iMBrjlYW/BMzOxYmV8pq7bwSs4UiJTEZuCBfUa8ZAzLq0Fnva+XdSpeZeKkCllpCi9y9Ooupjjb/eP5d066jCM+WVaClNzdN929PKp697TtmjnHJxFzPk4ejyUWyBy8dlL/V61lBPJQovIgoR9Ttm5VZUDgOvH81yZCSI7cGzIbk6AFdKNd1VMlXCb0mMYqAWCQdP9cye2nqHHG0ufPay6RaN9+LYKKcT59930UVG3rHbOyOmiUz3T/3c39HcybLVSuBLtvzNt82StG7uGx+pHJYwyoG3KDEWCZo7Y2qk7NRRJraBnrXFsyjSIs1iF50sz5Rn1kVi8jYggHTU0mzElg8OR0fbOMhO7JRfJr2BN0fGSJQWKxvXX2HhogikSbHnRBUvpzcOEL+1Ks6YAg0XUpivAylqWj3rUuRptmDmJ0l6g0aIc4QRh9sWU2hyvu/UHrFI86vMWW4MAU0sTz8L2rxoXV7PxuGKnQDhD8MqBllOLE4dJLNQQ2qwyc9bY="
    - secure: "XSnKPk47TryuveIcrhvjLk+IJ0dEIcSBqCz7EZxU41NUwtYsM7AWbohDOEuBvR3nw+xkpbHikOinv3yAnbJeXbDqWsB3Yfblylc78l+GnKbEP8s4O8a9BTOqAvUs5KFPaQucSQwNp5sA1hbDNAgXqzhA81hIRiYKMrbGKAY6kvfh8ZX+hiLGPuhJEgsfkW46wGolXxWzrniComNM4xU5GTlZx62pXZ6VU1eU3vuBxenL30lf+cVgzyq6tq9HsdOxu0p77XNFrrTHZYVXLPzav3O2X112x8WuBgdllyZNt78ijzfuapozp1OZVbmFy2DPo/9SQak+bHUCgEtLurbDHEFoFEsUEukGjYTFeIq0WyYGNrhNjzRwj9fEPk65sw4bHiD5TKC4o7Z/lYGejmMahTNsw9EQO2ka52FQiFtLcmLEMIOgUuxFpc6HSK568KspHYHjVQs7J1qcUgNY4d1vgNMxT+D8iJNna3C62YrDIsIJnsp10Q4p1YDJzymqBepWhBjPaPqin7DnmX8nQ5dqFGBTa+GfBq/chvbl3E0boPbbrf65AlEWSLZzPFpYq+f10AdxkF8iFG9sReyeBo0uMtBVClypYb5dIW7NPxj4f6nIwOZKfm2EE7IT/4qdpGdILPMCUUNuEmDkoRbUWCNZjkRXeAFxO2FopPAYEpPUwLo="
    - secure: "KD/QD4Wl7UoN3gL8SQZZiEqhxlMINdE0PLG+zjAkn77SeMIIM2sveFU0Wi1nNWAUxvzbgk1KpxoWloVLyhCs79rNlw6hVlDnWYZPv0cUWh7FSh8aDVw90upWBhkyLmacrqkIkX3fHTAKHF9xCqzPdN0rr2vEjwYnFcBBnsoxL9vEQnY3T1HiKx82Sn1+wd0EWlFfKIddWV+I2Rrg85q0v26O72Wr6LdsL3oDXpxwkrUPs3mkafuIqxD9S7ddxuWnkr6HeTkopXPL6MBG7GQE1S4IF9/qEgmhcMCBS2L3k9WOj/UGd1Veg8qkJEQxqnen6SqSXYeT0Yg4GtAA2q85TGPSf/Z8CsbPEb09P9lIZbCMxRymmIQXucBxCe1xS4gJvEcvJXyHDLpXPPLYuFRkd3XXhG8QZll9VyKESU2vrUP9IVu9D3cIlGcCD1EIkP1l795kXD0kt0C9a41hjW68IkXChPIf+jYJzWW2UT5nwqVqWyZnGCMrLuh0EztFcUxXbfXWJvtu+mPGT2YMQXhoq9Pkf2B1UKmcLLPzaBeBDOIn2rjs74ZyFa06gRFZRY/fxJ6cG8ggVFOvwL2biVvOvQIW3MjdCt3KQX6Jk8uuVA16/QKr1IJxSrHqE0zUMh3dE0gWuWHrelYM71cE7gMSl0Nbr8LM/7y531nCukl5kRc="
    - secure: "V4A/qw/IKQbQwVZ75RmulOPKcL9Ff9ztHBTjjw7F47Z8uUm4XwxfzblILMcijz/DZ22NGTTprIVcVxfKNSN0FO6U0d4DLkVUuW12lvvJut3l6ZR3q5OZdgIKGs4nM9cyW6AvB1RHigxsjzhX8bX3ntlbpv6TIm/R1tsFnGAzQkQF3SLjilDHriYXDN6b4cMfnKGWmnliURUt2vx0DpKCuXPT8/s2sWTQl9VQp7D3MrAXdKFJ0/NN+2ok9EDEgnjGNKM8ikuq53jT2R/mZbAKJeJGJlH+8i41Cam1vJ/X8mo7WEMaZK5AHkkF12UGTVZ1t+GV99cL9HggaipTMutcotTKLa4PUwLlpCiEeDPGgTleT0vLnXANofhrz7JbIJbfUO0Xd0vIPNZhYJFwwnxyDt4xjO3HmdirkjsqRdFB6s1i+ZmPMKN7SmsoinqeIHN6a+IO5Bye68iGx1c2nPcGxa3w4c8CLoYTJxyd/C/dmDmo5Xevnbr8HuSFOrwwBcgORyAWu5Ud16z93rs/755aAFe8ZnPPCrVKAWvFHZnWgQkaxyYMdAeHNYvXOM2HZ8sdMKSNxoascRQMsB+qyQYehNGqolxmt6Av18+E6hjnss9CjsWftL6suwlYZBirldH0lLUuMTkMDOSFSe3oUNFH9MjNzYuB/KHnU7rYfOj4gro="
deploy:
  provider: heroku
  api_key:
    secure: "eGesMwZbY6n/CclV0YHjW7cnlaF67U2KSWkwMgF93eqmCUjf7Luf4/9vmyWMIjs1MgNEwQppg7yn774Q7O3wf6Dv5/4Sq19dBfQmCOGasvI/XuZZahnX597ndga35nUEPqKk9CciPQiFs9T6b+CpsAS3IwijjCCRdmoTY4sskPuP0fk3/jAmsUovpL70kFZUYfNeyrE6HY0pl6BDoeQjVuGtVcgRco1Eg8H5ofCZPDMdudM4axp9vaBZRyrq2y+adiHVoTTeWDbnfouubD+md/sTkp2HNzRcTkbzgfxm6Oo/CNTBXhmFgCY4nFtJyNUeGnnUewVtuWqtNsazevwoNGWhBsVWyVmE23j5V7JWj422wTuNikcEnYJHPdRA5U2MZCmBu1kkPowgk99wdA1EVBYm2Gv0XI43I3fFHcRh65noBYl0+CNwvWVslB5/h/5nWPrD+VgM2GTJgKLx5GHAVM4unmnXn6lIhIs0I6Ma7wtpexO8qaIKml1EknHhTg8YTZnJtlmjxt3qrbmC29nyzJ7EOVUDFddMY2rPbQZjQEtezuz5oCCPlIo0YkAjxww248SeL+pBAywbFtrpC+Oqz7B8k7u1L50uzAJW6LhZsCEIIxMRKZMebBOsoGuq/aui0Hxt9Tyxb7MzlP0X6wiReWCu1QdmoQUtE4kLljIUeO8="
  app:
    master: travel-application-production
    develop: travel-application-develop
  run:
    - npm run migrate
    - npm run seed
